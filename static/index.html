<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Verbatim AI - YouTube Transcriber</title>
    <!-- Beer CSS (global) -->
    <link href="https://cdn.jsdelivr.net/npm/beercss@3.11.33/dist/cdn/beer.min.css" rel="stylesheet" />
    <script type="module" src="https://cdn.jsdelivr.net/npm/beercss@3.11.33/dist/cdn/beer.min.js"></script>
    <link href="/static/beer-layout.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
    <!-- Optional: dynamic Material colors for theme switching -->
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/material-dynamic-colors@1.1.2/dist/cdn/material-dynamic-colors.min.js"
    ></script>
  </head>
  <body class="dark">
    <main class="responsive">
      <div class="container">
        <!-- Header -->
        <header class="card text-center">
          <h1 class="title">
            <i class="fas fa-video" style="color: var(--primary); margin-right: 10px"></i>
            Verbatim AI
          </h1>
          <p class="subtitle">Transform YouTube videos into clean, formatted transcripts using AI</p>
        </header>

        <!-- URL Input Section -->
        <section class="card">
          <label for="youtube-url">YouTube Video URL</label>
          <div class="input-section">
            <input type="url" id="youtube-url" placeholder="https://www.youtube.com/watch?v=..." />
            <button id="get-transcript-btn" class="button primary">
              <i class="fas fa-download"></i>
              Get Transcript
            </button>
          </div>
        </section>

        <!-- Transcript Display Section -->
        <div class="grid">
          <!-- Raw Transcript -->
          <section class="card">
            <div class="card-header">
              <h2><i class="fas fa-file-alt" style="margin-right: 8px"></i>Raw Transcript</h2>
              <button id="copy-raw-btn" class="button" disabled><i class="fas fa-copy"></i> Copy</button>
            </div>
            <div>
              <div id="raw-transcript-loading" class="hidden loading-state">
                <i class="fas fa-spinner fa-spin" style="color: var(--primary)"></i>
                <p>Fetching transcript...</p>
              </div>
              <textarea
                id="raw-transcript"
                readonly
                placeholder="Raw transcript will appear here..."
                class="transcript-area"
              ></textarea>
            </div>
          </section>

          <!-- Formatted Transcript -->
          <section class="card">
            <div class="card-header">
              <h2><i class="fas fa-magic" style="color: var(--secondary); margin-right: 8px"></i>AI Formatted</h2>
              <div class="card-controls">
                <label for="model-select">Model:</label>
                <select id="model-select">
                  <option value="anthropic/claude-3.5-sonnet">Claude 3.5 Sonnet</option>
                  <option value="anthropic/claude-3-haiku">Claude 3 Haiku</option>
                  <option value="openai/gpt-4o">GPT-4o</option>
                  <option value="openai/gpt-4o-mini">GPT-4o Mini</option>
                  <option value="google/gemini-pro-1.5">Gemini Pro 1.5</option>
                  <option value="meta-llama/llama-3.1-8b-instruct">Llama 3.1 8B</option>
                  <option value="meta-llama/llama-3.1-70b-instruct">Llama 3.1 70B</option>
                </select>
                <button id="format-btn" class="button primary" disabled>
                  <i class="fas fa-wand-magic-sparkles"></i> Format with AI
                </button>
                <button id="copy-formatted-btn" class="button" disabled><i class="fas fa-copy"></i> Copy</button>
              </div>
            </div>
            <div>
              <div id="formatted-transcript-loading" class="hidden loading-state">
                <i class="fas fa-spinner fa-spin" style="color: var(--secondary)"></i>
                <p>Formatting with AI...</p>
              </div>
              <div id="formatted-transcript" class="transcript-area">
                <p style="opacity: 0.6">Formatted transcript will appear here...</p>
              </div>
            </div>
          </section>
        </div>

        <!-- Error Display -->
        <div id="error-display" class="hidden error-display">
          <div>
            <i class="fas fa-exclamation-circle" style="color: var(--error); margin-right: 8px"></i>
            <strong>Error:</strong>
          </div>
          <p id="error-message"></p>
        </div>

        <!-- Toast Notification -->
        <div id="toast" class="hidden toast">
          <i class="fas fa-check" style="margin-right: 8px"></i>
          <span id="toast-message">Copied to clipboard!</span>
        </div>
      </div>
    </main>

    <script src="/static/script.js"></script>
  </body>
</html>
